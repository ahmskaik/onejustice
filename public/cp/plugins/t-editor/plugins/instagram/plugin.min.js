tinymce.PluginManager.requireLangPack('instagram', 'en_EN');
tinymce.PluginManager.add('instagram', function (editor, url) {

    function openmanager() {
        editor.windowManager.open({
            file: url + '/dialog.html?r=' + Math.random(),
            width: 650,
            height: 500,
            inline: 1,
            title: 'Embed Instagram'
        }, {
            plugin_url: url // Plugin absolute URL
        });


    }

    editor.addButton('instagram', {
        text: 'Embed Instagram',
        icon: true,
        image: tinyMCE.baseURL + '/plugins/instagram/img/instagram.png',
        tooltip: 'Add facebook post',
        onclick: openmanager
    });

    editor.addMenuItem('instagram', {
        icon: 'media',
        text: 'Add Instagram post',
        onclick: openmanager,
        context: 'insert'
    });
});
